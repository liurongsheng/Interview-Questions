# JavaScript 数字精度丢失的问题

在 JavaScript 中，现在主流的数值类型是 Number，而 Number 采用的是 IEEE754 规范中 64 位双精度浮点数编码

这样的存储结构优点是可以归一化处理整数和小数，节省存储空间

这种表示方法虽然能够处理大多数数值运算，但在处理小数时可能会出现精度丢失的问题

## 典型示例

```js
console.log(0.1 + 0.2); // 0.30000000000000004
```

## 解决方案

- 乘以倍数 `console.log((0.1 * 10 + 0.2 * 10) / 10); // 输出 0.3`
- 使用 toFixed() 方法 `console.log((0.1 + 0.2).toFixed(1)); // 输出 "0.3"`
- 使用 BigInt 和 Decimal.js 等库

要想解决大数的问题你可以引用第三方库 bignumber.js，原理是把所有数字当作字符串，重新实现了计算逻辑，缺点是性能比原生差很多
